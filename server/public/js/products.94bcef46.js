(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["products"],{"02f4":function(t,e,r){var n=r("4588"),i=r("be13");t.exports=function(t){return function(e,r){var a,c,s=String(i(e)),o=n(r),u=s.length;return o<0||o>=u?t?"":void 0:(a=s.charCodeAt(o),a<55296||a>56319||o+1===u||(c=s.charCodeAt(o+1))<56320||c>57343?t?s.charAt(o):a:t?s.slice(o,o+2):c-56320+(a-55296<<10)+65536)}}},"0390":function(t,e,r){"use strict";var n=r("02f4")(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},"0bfb":function(t,e,r){"use strict";var n=r("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"1af6":function(t,e,r){var n=r("63b6");n(n.S,"Array",{isArray:r("9003")})},"214f":function(t,e,r){"use strict";r("b0c5");var n=r("2aba"),i=r("32e9"),a=r("79e5"),c=r("be13"),s=r("2b4c"),o=r("520a"),u=s("species"),d=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var p=s(t),f=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),v=f?!a((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[u]=function(){return r}),r[p](""),!e})):void 0;if(!f||!v||"replace"===t&&!d||"split"===t&&!l){var h=/./[p],g=r(c,p,""[t],(function(t,e,r,n,i){return e.exec===o?f&&!i?{done:!0,value:h.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),A=g[0],m=g[1];n(String.prototype,t,A),i(RegExp.prototype,p,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},"2fdb":function(t,e,r){"use strict";var n=r("5ca1"),i=r("d2c8"),a="includes";n(n.P+n.F*r("5147")(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"469f":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("7d7b")},5147:function(t,e,r){var n=r("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(i){}}return!0}},"520a":function(t,e,r){"use strict";var n=r("0bfb"),i=RegExp.prototype.exec,a=String.prototype.replace,c=i,s="lastIndex",o=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[s]||0!==e[s]}(),u=void 0!==/()??/.exec("")[1],d=o||u;d&&(c=function(t){var e,r,c,d,l=this;return u&&(r=new RegExp("^"+l.source+"$(?!\\s)",n.call(l))),o&&(e=l[s]),c=i.call(l,t),o&&c&&(l[s]=l.global?c.index+c[0].length:e),u&&c&&c.length>1&&a.call(c[0],r,(function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(c[d]=void 0)})),c}),t.exports=c},"54a1":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("95d5")},"5d73":function(t,e,r){t.exports=r("469f")},"5f1b":function(t,e,r){"use strict";var n=r("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var a=r.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},6762:function(t,e,r){"use strict";var n=r("5ca1"),i=r("c366")(!0);n(n.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")("includes")},"6be2":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"d-column flex p-relative"},[n("h1",{staticClass:"text-center"},[t._v("Products Catalog")]),n("button",{staticClass:"ml-auto",on:{click:function(e){return t.$store.dispatch("logout")}}},[t._v("Logout 🔓")]),n("div",{staticClass:"d-row a-center j-center"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{id:"search",type:"search",placeholder:"Search..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),n("button",{staticClass:"bg-green",attrs:{id:"search"},on:{click:function(){return t.$router.push("/products/new")}}},[t._v("\n        NEW\n      ")])]),n("div",{staticClass:"listing text-center"},[t.loading?n("div",[n("i",[t._v("Loading...")])]):t.products.length?t.fileteredProducts.length?n("div",{staticClass:"product-grid"},[t._m(0),t._m(1),t._m(2),t._m(3),t._l(t.fileteredProducts,(function(e,i){return[n("div",{key:"image-"+e.id,staticClass:"j-center"},[n("img",{staticClass:"product-image cursor-pointer",attrs:{src:e.image||r("bd21"),alt:""},on:{click:function(r){return t.openImage(e.image)}}})]),n("div",{key:"price-"+e.id,staticClass:"a-space-between"},[n("div",[t._v("U$ ")]),n("div",{staticClass:"price-cell"},[t._v(t._s(t.formatMonetary(e.price)))])]),n("div",{key:"name-"+e.id,staticClass:"overflow-ellipsis"},[t._v("\n            "+t._s(e.name)+"\n          ")]),n("div",{key:"actions-"+e.id,staticClass:"actions-cell"},[n("div",{staticClass:"actions-row"},[n("button",{staticClass:"small px-0",on:{click:function(r){return t.$router.push("/products/"+e.id)}}},[t._v(" ✏️ ")]),n("button",{staticClass:"small px-0",on:{click:function(r){return t.deleteProduct(e.id)}}},[t._v(" ❌ ")]),n("button",{staticClass:"small px-0",on:{click:function(e){return t.toggleUp(i)}}},[t._v(" ⬆️ ")]),n("button",{staticClass:"small px-0",on:{click:function(e){return t.toggleDown(i)}}},[t._v(" ⬇️ ")])])])]}))],2):n("div",[n("i",[t._v('No ocurrences for "'+t._s(t.search)+'"...')])]):n("div",[n("i",[t._v("No product yet...")])])])])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid-header j-center"},[r("div",{},[t._v("📷")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid-header"},[r("div",{staticClass:"price-cell"},[t._v("Price")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid-header"},[r("div",[t._v("Name")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid-header"},[r("div",{staticClass:"actions-cell m-auto"},[t._v("Actions")])])}];r("a481"),r("6762"),r("2fdb");function a(t,e){return c(t).includes(c(e||""))}function c(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase()}function s(t){return t.toLocaleString("en-US",{currency:"USD"})}var o={data(){return{loading:!1,sending:!1,search:"",products:[]}},created(){this.fectchProducts()},methods:{formatMonetary:s,async fectchProducts(){this.loading=!0;try{this.products=await this.$store.dispatch("getProducts")}catch(t){alert(t.message)}finally{this.loading=!1}},async deleteProduct(t){const e=window.confirm("Remove this product? (it's irreversible)");if(e){this.sending=!0;try{await this.$store.dispatch("deleteProduct",t);const e=this.products.findIndex(e=>e.id===t);this.products.splice(e,1)}catch(r){alert(r.response.data)}finally{this.sending=!1}}},toggleUp(t){t<=0||this.toggleRows(t-1,t)},toggleDown(t){t!=this.fileteredProducts.length-1&&this.toggleRows(t,t+1)},async toggleRows(t,e){const{fileteredProducts:r}=this,[n,i]=[r[t],r[e]];[n.sequence,i.sequence]=[i.sequence,n.sequence],Promise.all([this.$store.dispatch("updateProduct",{id:n.id,product:n}),this.$store.dispatch("updateProduct",{id:i.id,product:i})])},openImage(t){const e=new Image;e.src=t;const r=window.open("");r.document.write(e.outerHTML),window.open(e)}},computed:{fileteredProducts(){return this.products.filter(({name:t})=>a(t,this.search)).sort((t,e)=>t.sequence-e.sequence)}}},u=o,d=(r("f65d"),r("2877")),l=Object(d["a"])(u,n,i,!1,null,"1254d92b",null);e["default"]=l.exports},"7d7b":function(t,e,r){var n=r("e4ae"),i=r("7cd6");t.exports=r("584a").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},"7f7f":function(t,e,r){var n=r("86cc").f,i=Function.prototype,a=/^\s*function ([^ (]*)/,c="name";c in i||r("9e1e")&&n(i,c,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},"8bb7":function(t,e,r){"use strict";var n=r("ba6a"),i=r.n(n);i.a},9003:function(t,e,r){var n=r("6b4c");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"95d5":function(t,e,r){var n=r("40c3"),i=r("5168")("iterator"),a=r("481b");t.exports=r("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(n(e))}},a481:function(t,e,r){"use strict";var n=r("cb7c"),i=r("4bf8"),a=r("9def"),c=r("4588"),s=r("0390"),o=r("5f1b"),u=Math.max,d=Math.min,l=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};r("214f")("replace",2,(function(t,e,r,h){return[function(n,i){var a=t(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,a,i):r.call(String(a),n,i)},function(t,e){var i=h(r,t,this,e);if(i.done)return i.value;var l=n(t),p=String(this),f="function"===typeof e;f||(e=String(e));var A=l.global;if(A){var m=l.unicode;l.lastIndex=0}var b=[];while(1){var w=o(l,p);if(null===w)break;if(b.push(w),!A)break;var x=String(w[0]);""===x&&(l.lastIndex=s(p,a(l.lastIndex),m))}for(var C="",E=0,y=0;y<b.length;y++){w=b[y];for(var P=String(w[0]),I=u(d(c(w.index),p.length),0),R=[],B=1;B<w.length;B++)R.push(v(w[B]));var k=w.groups;if(f){var H=[P].concat(R,I,p);void 0!==k&&H.push(k);var U=String(e.apply(void 0,H))}else U=g(P,p,I,R,k,e);I>=E&&(C+=p.slice(E,I)+U,E=I+P.length)}return C+p.slice(E)}];function g(t,e,n,a,c,s){var o=n+t.length,u=a.length,d=f;return void 0!==c&&(c=i(c),d=p),r.call(s,d,(function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(o);case"<":s=c[i.slice(1,-1)];break;default:var d=+i;if(0===d)return r;if(d>u){var p=l(d/10);return 0===p?r:p<=u?void 0===a[p-1]?i.charAt(1):a[p-1]+i.charAt(1):r}s=a[d-1]}return void 0===s?"":s}))}}))},a745:function(t,e,r){t.exports=r("f410")},aae3:function(t,e,r){var n=r("d3f4"),i=r("2d95"),a=r("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},b0c5:function(t,e,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},ba6a:function(t,e,r){},bd21:function(t,e){t.exports="data:image/png;base64,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"},c8bb:function(t,e,r){t.exports=r("54a1")},d2c8:function(t,e,r){var n=r("aae3"),i=r("be13");t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},d388:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("form",{staticClass:"product-form",on:{submit:function(e){return e.preventDefault(),t.saveProduct(e)}}},[n("h1",{staticClass:"text-center"},[t._v(" "+t._s(t.id?"":"New  ")+" Product")]),t.id&&t.loading?n("div",{staticClass:"text-center"},[t._v(" Loading... ")]):t.error?n("div",{staticClass:"text-center"},[t._v(" "+t._s(t.error)+" ")]):n("fieldset",{attrs:{disabled:t.sending}},[n("div",{staticClass:"d-column"},[n("label",{attrs:{for:"username"}},[t._v("\n          Name\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],ref:"name",attrs:{id:"name",type:"text",required:""},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}}),n("label",{attrs:{for:"username"}},[t._v("\n          Price\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],ref:"price",attrs:{id:"price",type:"number",step:"0.01",required:""},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}}),n("label",{attrs:{for:"image"}},[t._v("\n          Image\n        ")]),n("div",{staticClass:"image-wrapper"},[n("img",{attrs:{src:t.product.image||r("bd21"),alt:""}})]),n("div",{staticClass:"text-center"},[n("input",{staticClass:"primary",attrs:{type:"button",id:"image",value:"Upload"},on:{click:function(e){return e.preventDefault(),t.$refs["upload"].click()}}})]),n("input",{ref:"upload",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.upload}}),n("div",{staticClass:"d-row actions a-space-between"},[n("button",{staticClass:"flat",on:{click:function(e){return t.$router.push("/products")}}},[t._v("\n            Cancel\n          ")]),n("button",{staticClass:"bg-green"},[t._v("\n            Save\n          ")])])])])])])},i=[],a=(r("7f7f"),r("a745")),c=r.n(a);function s(t){if(c()(t))return t}var o=r("5d73"),u=r.n(o),d=r("c8bb"),l=r.n(d);function p(t,e){if(l()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var c,s=u()(t);!(n=(c=s.next()).done);n=!0)if(r.push(c.value),e&&r.length===e)break}catch(o){i=!0,a=o}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}return r}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v(t,e){return s(t)||p(t,e)||f()}r("96cf");var h=r("3b8d"),g={name:"ProductEdit",props:{id:{default:null}},data:function(){return{error:void 0,loading:!0,uploading:!1,sending:!1,product:{name:void 0,image:void 0,price:void 0}}},created:function(){this.id?this.fetchProduct():this.loading=!1},methods:{fetchProduct:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("getProduct",this.id);case 3:this.product=t.sent,this.$nextTick((function(){return e.loading=!1})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.error=t.t0.response.data||t.t0.message;case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),readFileAsync:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(t){return r(t)}})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),upload:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=v(e.target.files,1),n=r[0],n){t.next=3;break}return t.abrupt("return");case 3:return this.uploading=!0,t.prev=4,t.next=7,this.readFileAsync(n);case 7:i=t.sent,this.product.image=i,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),alert(t.t0.message);case 14:return t.prev=14,this.uploading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[4,11,14,17]])})));function e(e){return t.apply(this,arguments)}return e}(),validate:function(){return this.product.name?this.product.price?!(this.product.price<=0)||(alert("Price needs to be greater than 0."),document.getElementById("price").focus(),!1):(alert("Price required."),document.getElementById("price").focus(),!1):(alert("Name required."),document.getElementById("name").focus(),!1)},saveProduct:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validate()){t.next=2;break}return t.abrupt("return");case 2:if(this.sending=!0,t.prev=3,e=this.id,r=this.product,!e){t.next=10;break}return t.next=8,this.$store.dispatch("updateProduct",{id:e,product:r});case 8:t.next=12;break;case 10:return t.next=12,this.$store.dispatch("createProduct",r);case 12:this.$router.push("/products"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](3),alert(t.t0.message);case 18:return t.prev=18,this.sending=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[3,15,18,21]])})));function e(){return t.apply(this,arguments)}return e}()}},A=g,m=(r("8bb7"),r("2877")),b=Object(m["a"])(A,n,i,!1,null,"4e653949",null);e["default"]=b.exports},f238:function(t,e,r){},f410:function(t,e,r){r("1af6"),t.exports=r("584a").Array.isArray},f65d:function(t,e,r){"use strict";var n=r("f238"),i=r.n(n);i.a}}]);
//# sourceMappingURL=products.94bcef46.js.map